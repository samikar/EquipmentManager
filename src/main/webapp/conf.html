<!DOCTYPE html>
<html>

<head>
  <title>Configure</title>
  <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">

  <!-- Bootstrap -->
  <link href = "css/bootstrap.min.css" rel = "stylesheet">

  <!-- jQuery Ajax File Uploader Widget -->
  <link href = "css/jquery.dm-uploader.min.css" rel = "stylesheet">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

<!--[if lt IE 9]>
<script src = "https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src = "https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->

</head>

<body>
  <!-- Fixed navbar -->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img src="images/danfoss.png" class="img-fluid" alt="Danfoss"></a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="index.html">Take</a></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Return<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="returnMultiple.html">Return multiple</a></li>
              <li><a href="returnSingle.html">Return single</a></li>
            </ul>
          </li>
          <li><a href="list.html">Equipment list</a></li>
          <li><a href="charts.html">Charts</a></li>  
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li class="dropdown active">
            <a href="conf.html">
              <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
            </a>
          </li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">
    <br><br><br>
    <div class="row">
      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
        <div id="drop-area_equipment">
          <div class="form-group">
            <label class="control-label">Upload equipment file:</label>
            <input type="file" class="filestyle" id="fil_equipment" data-btnClass="btn-primary" data-buttonText="Select a File">
          </div>
        </div>
      </div>
    </div>
    <div class=row>
      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
        <a href="/confEquipment.html" class="btn btn-primary">Manual configuration</a>
      </div>
    </div>
    <br><br>
    <div class="row">
      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
        <div id="drop-area_type">
          <div class="form-group">
            <label class="control-label">Upload equipment type file:</label>
            <input type="file" class="filestyle" id="fil_type" data-btnClass="btn-primary" data-buttonText="Select a File">
          </div>
        </div>
      </div>
    </div>
     <div class=row>
      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
        <a href="/confTypes.html" class="btn btn-primary">Manual configuration</a>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-lg-12 col-md-12 cold-sm-12 col-xs-12">
        <div id="status" class="alert hidden">
          <strong id="msg_type"></strong>
          <span id="msg_text"></span>
        </div>
      </div>
    </div>
  </div> <!-- /container -->

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <!--script src = "https://code.jquery.com/jquery.js"></script-->
  <script src = "js/jquery-3.2.1.js"></script>

  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src = "js/bootstrap.min.js"></script>

  <!-- jQuery Ajax File Uploader Widget -->
  <script src = "js/jquery.dm-uploader.min.js"></script>

  <!-- Bootstrap-filestyle -->
  <script src = "js/bootstrap-filestyle.min.js"></script>

  <script>
    $(':file').filestyle({ 
      iconName : 'glyphicon glyphicon-file',
      buttonText : 'Select File', 
      buttonName : 'btn-warning',
      buttonBefore : 'true',
      btnClass : 'btn-primary',
      placeholder : '...'
      
    });

    $(document).ready(function(){

      $("#drop-area_equipment").dmUploader({
        url: '/rest/uploadEquipmentFile',
        //... More settings here...
        
        onInit: function(){
          console.log('Callback: Plugin initialized');
        },
        onUploadSuccess: function(id, data){
          if($("#status").hasClass("hidden")) {$("#status").removeClass('hidden');}
          if($("#status").hasClass("alert-danger")) {$("#status").removeClass('alert-danger');}
          if($("#status").hasClass("alert-info")) {$("#status").removeClass('alert-info');}
          $("#status").addClass('alert-success');
          $("#msg_type").text("Success: ");
          $('#msg_text').text(data);
        },
        onUploadError: function(id, xhr, status, errorThrown){
          if($("#status").hasClass("hidden")) {$("#status").removeClass('hidden');}
          if($("#status").hasClass("alert-success")) {$("#status").removeClass('alert-success');}
          //if($("#status").hasClass("alert-danger")) {$("#status").removeClass('alert-danger');}
          $("#status").addClass('alert-danger');
          $("#msg_type").text("Error: ");
          console.dir(xhr);
          //console.dir(errorThrown);
          $('#msg_text').text(xhr['responseText']);  
        }  
        // ... More callbacks
      });

      $("#drop-area_type").dmUploader({
        url: '/rest/uploadTypeFile',
        //... More settings here...
        
        onInit: function(){
          console.log('Callback: Plugin initialized');
        },
        onUploadSuccess: function(id, data){
          if($("#status").hasClass("hidden")) {$("#status").removeClass('hidden');}
          if($("#status").hasClass("alert-danger")) {$("#status").removeClass('alert-danger');}
          if($("#status").hasClass("alert-info")) {$("#status").removeClass('alert-info');}
          $("#status").addClass('alert-success');
          $("#msg_type").text("Success: ");
          $('#msg_text').text(data);
        },
        onUploadError: function(id, xhr, status, errorThrown){
          if($("#status").hasClass("hidden")) {$("#status").removeClass('hidden');}
          if($("#status").hasClass("alert-success")) {$("#status").removeClass('alert-success');}
          //if($("#status").hasClass("alert-danger")) {$("#status").removeClass('alert-danger');}
          $("#status").addClass('alert-danger');
          $("#msg_type").text("Error: ");
          console.dir(xhr);
          //console.dir(errorThrown);
          $('#msg_text').text(xhr['responseText']);  
        }
        // ... More callbacks
      });


    });
  </script>

</body>
</html>
